(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{566:function(s,t,a){"use strict";a.r(t);var n=a(13),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"vuepress-theme-reco-github-pages-github-actions實現自動化發佈部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vuepress-theme-reco-github-pages-github-actions實現自動化發佈部署"}},[s._v("#")]),s._v(" Vuepress/Theme-reco+GitHub Pages+GitHub Actions實現自動化發佈部署")]),s._v(" "),a("h3",{attrs:{id:"一、准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、准备"}},[s._v("#")]),s._v(" 一、准备：")]),s._v(" "),a("p",[s._v("软件安装：")]),s._v(" "),a("p",[s._v("Git")]),s._v(" "),a("p",[s._v("Node.js (包含npm)：npm版本低编译时可能会报错，将其更新至较高版本即可（此处使用v8.1.0）")]),s._v(" "),a("h3",{attrs:{id:"二、初始化项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、初始化项目"}},[s._v("#")]),s._v(" 二、初始化项目")]),s._v(" "),a("p",[s._v("任意创建一空白文件夹，CMD或GitBash（以管理员方式运行）执行以下命令：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#搭建脚手架：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" @vuepress-reco/theme-cli -g\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#项目初始化（初始化时会让你填写部分信息例如项目名称、标题等：先填，后续可修改），")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#最后按需选择： blog 或 2.x(此处选的blog)")]),s._v("\ntheme-cli init blog\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("初始化完成后，文件目录大致如下：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("├── blog \n     ├── .vuepress      \n     │   ├── public   // 存放静态资源\n     │   │     ├── avatar.png  // 头像图片 \n     │   │     ├── favicon.ico   // 网站icon图标\n     │   │     ├── hero.png    // 主页的中间的图片文件，1.6默认未配置使用该图片\n     │   │     └── logo.png    // 网站导航栏左上角的logo图片\n     │   │   \n     │   └── config.js      // 配置文件，非常重要！！！  \n     ├── blogs  // 存放博文，即.md文件（文件标题最好使用短英文，否则可能编译不通过）\n     │   ├── ...\n     │   ├── ...\n     │   └── ... \n     ├── docs     // 侧边栏的配置文件\n     ├── .gitignore       // 提交git仓库时需要忽略的文件\n     ├── package.json      // 管理包文件\n     └── README.md        // 自动生成的主页文件，后续修改博客主页可根据官方文档配置\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("run dev阶段（即利用Node.js在本地试运行）：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入项目根目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" blog\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装依赖（静待）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 本地试运行部署（实时渲染开发测试环境）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run dev\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("若未出现问题则会自动启动浏览器并打开页面（http://localhost:8080），如下图：")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/gpliufeng/imgbed/master/img/b1903066c765706bebb0f0a21395e75d.png",alt:"b1903066c765706bebb0f0a21395e75d"}})]),s._v(" "),a("h3",{attrs:{id:"三、自定义配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、自定义配置"}},[s._v("#")]),s._v(" 三、自定义配置：")]),s._v(" "),a("p",[s._v("主要配置文件在 "),a("code",[s._v(".vuepress/config.js")]),s._v("中，大部分内容都是可以自定义进行配置的，一下简单介绍配置参数，详情请见"),a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("项目官方文档"),a("OutboundLink")],1),s._v("。")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("title")]),s._v(":  对应加载动画的大标题，导航栏最左侧标题，浏览器页签的标题；")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("description")]),s._v(":  对应加载动画下的描述，网站描述节点，用于SEO；")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("dest")]),s._v(":  对应项目打包"),a("code",[s._v("npm run build")]),s._v("后的文件目录，存储打包后站点的静态文件；")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("head")]),s._v(":  表示html文档的head标签中需要额外插入的其他标签；")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("theme")]),s._v("：当前使用的主题；")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("themeConfig")]),s._v(":  主题的配置信息；")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("nav:  导航栏配置信息；")])]),s._v(" "),a("li",[a("p",[s._v("sidebar:  侧边栏的配置信息；")])]),s._v(" "),a("li",[a("p",[s._v("type:  当前项目类型，我选的是blog，所以默认是blog;")])]),s._v(" "),a("li",[a("p",[s._v("blogConfig:  自定义的导航栏配置信息，可根具需要自行设定；")])]),s._v(" "),a("li",[a("p",[s._v("friendLink：友链设置，默认有项目作者和项目官方文档链接；")])]),s._v(" "),a("li",[a("p",[s._v("logo:  首页导航栏左侧大图标，即"),a("code",[s._v(".vuepress/public/logo.png")])])]),s._v(" "),a("li",[a("p",[s._v("search:  是否开启搜索功能；")])]),s._v(" "),a("li",[a("p",[s._v("lastUpdate：文章底部显示的最后更新时间；")])]),s._v(" "),a("li",[a("p",[s._v("author：全局作者配置，若要为单篇文章配置作者，可在.md文件中配置"),a("code",[s._v("front-matter yaml")]),s._v("项；")])]),s._v(" "),a("li",[a("p",[s._v("authorAvatar:  作者头像；")])]),s._v(" "),a("li",[a("p",[s._v("startYear：博客开始时间；")])]),s._v(" "),a("li",[a("p",[s._v("record: ICP备案号")]),s._v(" "),a("p",[s._v("recordLink： ICP 备案指向的链接")]),s._v(" "),a("p",[s._v("cyberSecurityRecord： 公安部备案文案")]),s._v(" "),a("p",[s._v("cyberSecurityLink： 公安部备案指向链接；")])]),s._v(" "),a("li",[a("p",[s._v("markdown：对"),a("code",[s._v("markdown")]),s._v("的解析配置，例如"),a("code",[s._v("linenumber")]),s._v("即为代码块显示行号；")])])])])]),s._v(" "),a("p",[s._v("可以在本地运行后，根据个人需求或喜好，将网站的基础设置根据官方配置文档或参数配置好。")]),s._v(" "),a("h3",{attrs:{id:"四、部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、部署"}},[s._v("#")]),s._v(" 四、部署")]),s._v(" "),a("p",[s._v("1、新建GitHub仓库，若想最后博客域名为"),a("code",[s._v("<username>.github.io")]),s._v("，则需将仓库命名为"),a("code",[s._v("<username>.github.io")]),s._v("，并最好设置为空，即不生成 ReadMe.md文件。")]),s._v(" "),a("p",[s._v("2、项目文件必要修改：")]),s._v(" "),a("ul",[a("li",[s._v("修改"),a("code",[s._v(".gitignore")]),s._v("文件，添加"),a("code",[s._v("public")]),s._v("（与config.js中的dist的值保持一致，防止将打包后的静态文件一并上传）。")]),s._v(" "),a("li",[s._v("修改config.js文件，增加"),a("code",[s._v('"base":"/github仓库名/"')]),s._v("（若仓库名为xxxx.github.io，则此项不需增加配置）。")])]),s._v(" "),a("p",[s._v("3、将修改好的项目文件上传至新建的仓库（GitBash中执行）：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#进入到本地项目根目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" desktop/blog "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("改为你的路径"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将项目文件夹初始化为本地仓库")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#提交至本地仓库")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -A\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"first commit"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#配置ssH密钥登录远程仓库（自行了解）")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#配置远程仓库（目标上传仓库）连接")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" origin https://xxxxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("仓库地址"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#上传项目文件至仓库master分支(首次上传需要加`-u`)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -u origin master\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("上传成功后，本地CMD或GitBash运行："),a("code",[s._v("npm run build")]),s._v("打包项目至public目录，")]),s._v(" "),a("p",[s._v("打包完成后，在项目根目录中新建"),a("code",[s._v("deploy.sh")]),s._v("文件（注释掉与项目不符的语句）：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/usr/bin/env sh")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 确保脚本抛出遇到的错误")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -e\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成静态文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入生成的文件夹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" public\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果是发布到自定义域名")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# echo 'www.example.com' > CNAME")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -A\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'deploy'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果发布到 https://<USERNAME>.github.io")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# git push -f git@github.com:<USERNAME>/<USERNAME>.github.io.git master:gh-pages")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果发布到 https://<USERNAME>.github.io/<REPO>")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push -f git@github.com:gpliufeng/APIUJI.git master:gh-pages\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" -\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("p",[s._v("在GitBash中运行："),a("code",[s._v("bash deploy.sh")])]),s._v(" "),a("p",[s._v("将打包后生成的静态文件上传至仓库的"),a("code",[s._v("gh-pages")]),s._v("分支，并在仓库的"),a("code",[s._v("setting->pages")]),s._v("填写合适的信息，至此可使用setting页面的域名在公网访问该项目。")]),s._v(" "),a("h3",{attrs:{id:"五、配置github-action自动化流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、配置github-action自动化流程"}},[s._v("#")]),s._v(" 五、配置GitHub Action自动化流程")]),s._v(" "),a("p",[s._v("登录Github，打开个人setting，最下方Devolopment Setting，新生成一个token，并配置repo、githubaction权限，复制token值。")]),s._v(" "),a("p",[s._v("打开仓库，并按图依次配置，输入复制的token值，并命名为BLOG_ACCESS_TOKEN（自定义）。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/gpliufeng/imgbed/master/img/image-20220214155201843.png",alt:"image-20220214155201843"}})]),s._v(" "),a("p",[s._v("打开项目根目录下的 "),a("code",[s._v("package.json")]),s._v(" 文件，添加一个 "),a("code",[s._v("homepage")]),s._v(" 字段，以此来指定项目发布后的根目录：")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"homepage"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://[username].github.io/[repository]"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在项目根目录下创建 "),a("code",[s._v(".github/workflows")]),s._v(" 目录，在目录下创建一个 "),a("code",[s._v(".yml")]),s._v(" 文件，该文件的命名没有要求（deploy.yml），文件内容可参考如下我使用的Action（部分命令根据实际需求修改）：")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Build and Deploy\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("build-and-deploy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("runs-on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("latest\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" (1)Checkout\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" actions/checkout@v2 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# If you're using actions/checkout@v2 you must set persist-credentials to false in most cases for the deployment to work correctly.")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("persist-credentials")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("false")]),s._v("\n\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" (2)Install and Build\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[s._v("\n          npm install\n          npm run build")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("CI")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("false")]),s._v("\n\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" (3)Deploy\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" JamesIves/github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("pages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("deploy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("action@releases/v3\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("GITHUB_TOKEN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.BLOG_ACCESS_TOKEN "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("BRANCH")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" gh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("pages\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("FOLDER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" public\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("p",[s._v("**注：**此自动流程使用"),a("code",[s._v("JamesIves/github-pages-deploy-action@releases/v3")]),s._v("实现，")]),s._v(" "),a("p",[s._v("push代码至master分支后自动触发，将master分支中的文件打包编译后，将生成的静态文件上传至gh-pages分支，从而实现自动部署发布。若过程中出错，则会发送通知邮件至账号关联邮箱，届时可查看错误日志进行修改。")]),s._v(" "),a("p",[s._v("以上yml文件主要需修改（改成自己的即可）：")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("GITHUB_TOKEN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.BLOG_ACCESS_TOKEN "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("BRANCH")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" gh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("pages\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("FOLDER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" public\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"六、发布文章"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、发布文章"}},[s._v("#")]),s._v(" 六、发布文章")]),s._v(" "),a("p",[s._v("文章的编写：")]),s._v(" "),a("p",[s._v("由于该项目部分内容时由文章内容配置（例如：title，date，categories，tag，author等），所以在"),a("code",[s._v(".md")]),s._v("文件的最上方应添加"),a("code",[s._v("front-matter")]),s._v("块，即yml块，如下：")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 第一篇文章\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token datetime number"}},[s._v("2021-05-07")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("categories")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" 分类1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("tags")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" 标签1\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" 标签2\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("keys")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ababf713be53f3d10366196bf0297c30'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("isShowComments")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),s._v("\n\n第一篇文章\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("完成后将其按照分类放置在特定的位置，并使用git上传至仓库，待GitHub Action触发并成功完成后，即可在网站中查看新发布的文章。")]),s._v(" "),a("p",[a("strong",[s._v("注：.md文件最好使用短英文命名，防止名称过长解析失败（或解析成功但無法打開）。")])]),s._v(" "),a("h3",{attrs:{id:"至此-完结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#至此-完结"}},[s._v("#")]),s._v(" 至此，完结！！！")])])}),[],!1,null,null,null);t.default=e.exports}}]);